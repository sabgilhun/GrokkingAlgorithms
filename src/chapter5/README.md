# Chapter 5 해시 테이블
## 해시 함수
만약 탐색을 위해 목록을 뒤져보지 않고 찾고 싶은 것을 바로 답해줄 수 있는 기능이 있다면 정말 효율적일 것이다. 너무 이상적이라 불가능할 것 같지만 해시 함수를 통해 가능하다.

### 해시 함수란?
해시 함수는 문자열에 대해 숫자를 `매핑(mapping)`하는 함수이다. 또한 여기에 몇가지 조건을 충족해야하는데 조건은 아래와 같다.
* A 문자열이 x라는 숫자를 반환했다면, 언제나 동일한 동작을 해야한다.
* 서로 다른 문자열은 서로 다른 숫자를 반환해야한다. (가능한)

이런 해시 함수는 아래와 같이 사용될 수 있다.
> "Apple", "Milk", "Avocado"의 가격을 저장하고 필요할때 각 항목의 가격을 꺼내기

저장 할때
1. "Apple"을 해시 함수 적용
2. 해시 함수 적용되어 나온 숫자 X의 인덱스에 "Apple"의 가격 저장
3. "Milk", "Avocado"에 대해서도 1, 2 반복

가격 불러 올때
1. "Apple"을 해시 함수 적용
2. 해시 함수 적용되어 나온 숫자 X값을 이용해 배열[X] 값 꺼내옴 -> 이 값이 아까 저장한 가격

## 해시 테이블을 사용하는 예
* 해시 테이블로 조회(전화번호부)
    * 어떤 것을 다른 것과 연과시키고자 할 때
    * 무언가를 찾아보고자 할 때
* 중복된 항목을 방지
    * 어떠한 정보가 중복되어 저장되면 안될 때
* 캐시
    * 어떠한 정보를 매번 계산하지 않기 위해
    
## 충돌
해시 함수의 조건중 `서로 다른 문자열은 서로 다른 숫자를 반환해야한다.`라는 조건은 현실적으로 불가능하다.
이렇게 서로 다른 문자열에 대해 동일한 숫자를 반환하여 생기는 상황을 `충돌(Collision)`이라 부른다.

### 충돌 해결
충돌이 발생하면 같은 인덱스에 여러개의 데이터가 저장된다. 이렇게 되면 해시 테이블에서 찾은 데이터의 신뢰성이 깨진다. 이를 위해 보통은 연결 리스트를 사용한다.
예를들어 충돌이 발생하여 이미 해시 값 인덱스에 데이터가 존재하면 그 뒤에 값을 이어 붙이는 식이다. 이렇게 구현하면 검색할때 인덱스의 리스트에서 찾고자 하는 데이터를 찾게되고 데이터의 신뢰성을 지킬 수 있다.

## 성능
이렇게 충돌이 발생하면 해시 테이블 동작들의 성능이 떨어진다.

| | 평균 | 최악 |
| --- | --- | --- |
| 탐색  | `O(1)`  | `O(n)`  |
| 삽입  | `O(1)`  | `O(n)`  |
| 삭제  | `O(1)`  | `O(n)`  |
위의 표와 같이 최악의 경우 연결 리스트를 모두 순회해야 하므로 `O(n)`의 실행시간이 걸릴 수 있다. 최적의 성늘을 위해 해시 충돌을 줄일 수 있다면 줄여야 한다.

### 사용률
해시 테이블의 `사용률(Load Factor)`은 해시 테이블의 `항목 수/공간 수`를 의미한다. 사용률이 커지면 충돌이 발생할 가능성이 높아진다.
그러므로 어느정도 사용률이 높아지면 `리사이징(Resizing)`을 하여 테이블 공간을 늘려야 한다. 보통의 경우 0.7 이상이 되면 리사이징을 진행한다.

### 좋은 해시 함수
해시 알고리즘은 다양한 것들이 존재한다. 그리고 각 해시 함수들의 값들이 고루 분포될 수록 좋은 해시 함수라고 할 수 있다.
기본적으로 프로그래머가 해시 함수를 만들려고 고민할 필요는 없다. 하지만 어떤 해시 함수가 좋은 것인지는 알아두면 좋다.
